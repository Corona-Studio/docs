# 在完整包中包含默认选中的Java

::: danger 请注意！可能违反协议

在您自行分发的游戏完整包中包含Java运行时的行为可能违反了该运行时构建的分发许可协议或其他等效法律文件. 这是您的个人行为, 我们建议您再三确认合理性再进行操作. 

:::

如果您希望让您导出的游戏默认使用您提供的Java, 可以遵循以下指引操作来实现. 

1. 准备好您的游戏和JRE, 在启动器工作目录中创建一个文件夹并在其中解压JRE

2. 点击要导出的游戏的设置, 假设刚才解压JRE的文件夹叫`jre`且打开这个文件夹就能看到`bin`文件夹：

   1. 在Java路径中输入`./jre/bin/javaw.exe`
   2. 非Windows或许应该输入`./jre/bin/java` 但是具体使用的是哪个Java二进制文件需要依照实际情况决定（java还是javaw）

3. 点击保存, 尝试启动（仅在上一步中输入的JRE和当前系统匹配时可以启动）

4. 如果启动不成功, 请检查路径输入是否有误. 启动成功后, 可以通过任务管理器右键游戏进程来打开其所在文件夹以核对是否正常调用了预期的Java（Windows）

5. 右键点击要导出的游戏, 按照您的预期, 将其作为完整包导出. 

   ::: warning 请注意！

   目前通过这种方式导出的完整包 **不能使用API压缩**

   :::

6. 导出后, 打开导出的zip文件, 将之前的`jre`文件夹拖入/加入到其根目录中

7. 将zip完全解压到某地即可测试是否默认选中了附带的Java. 

::: warning 部分细节未经测试

暂时无法确认：在macOS/Linux下, 保存JRE的文件夹应该跟随其他文件夹一起解压到Documents还是保持和启动器本身在一起. 

:::